import streamlit as st
import pickle

# Load model
try:
    with open("Water_Quality_Prediction_System.pkl", "rb") as f:
        model = pickle.load(f)
except Exception as e:
    st.error(f"‚ùå Could not load model: {e}")
    st.stop()

# Prediction function
def predict_quality(features):
    try:
        result = model.predict([features])[0]
        return "Safe" if result == 0 else "Unsafe"
    except Exception as e:
        return f"Prediction error: {e}"

st.set_page_config(page_title="Water Quality Predictor", layout="wide")
st.title("üíß Water Quality Prediction")

st.markdown("Enter the water sample characteristics below:")

inputs = []
fields = [
    "Aluminium", "Ammonia", "Arsenic", "Barium", "Cadmium", "Chloramine",
    "Chromium", "Copper", "Bacteria", "Viruses", "Lead", "Nitrates",
    "Nitrites", "Perchlorate", "Radium", "Silver", "Uranium"
]

cols = st.columns(4)
for i, field in enumerate(fields):
    with cols[i % 4]:
        val = st.number_input(field, min_value=0.0, value=0.5, step=0.1)
        inputs.append(val)

if st.button("Predict"):
    result = predict_quality(inputs)
    st.success(f"‚úÖ Result: {result}")
